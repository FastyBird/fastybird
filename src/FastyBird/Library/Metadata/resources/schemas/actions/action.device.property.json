{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "properties": {
    "action": {
      "type": "string",
      "enum": [
        "get",
        "set"
      ]
    },
    "device": {
      "type": "string",
      "format": "uuid",
      "description": "Device unique uuid v4 identifier"
    },
    "property": {
      "type": "string",
      "format": "uuid",
      "description": "Device property unique uuid v4 identifier"
    }
  },
  "if": {
    "properties": {
      "action": {
        "const": "get"
      }
    }
  },
  "then": {
    "required": [
      "action",
      "device",
      "property"
    ]
  },
  "else": {
    "if": {
      "properties": {
        "action": {
          "const": "set"
        }
      }
    },
    "then": {
      "properties": {
        "actual_value": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            }
          ],
          "description": "Property actual value to be written into property"
        },
        "expected_value": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "number"
            },
            {
              "type": "boolean"
            }
          ],
          "description": "Property expected value to be written into property"
        }
      },
      "required": [
        "action",
        "device",
        "property"
      ]
    }
  }
}
